{% extends "orders/base.html" %}

{% block title %} Customize Order {% endblock %}
{% block body %}
{% load static %}


<h2 >Enter Toppings for {{ordered_item.name}}</h2>

<form class="" action="index.html" method="post">


<table  class="table  table-bordered table-hover text-center">
  <thead>

   <tr>

      <th scope="col">Category</th>
      <th scope="col">Type</th>
      <th scope="col">Size</th>
      <th scope="col">Price</th>
      {% if current_order_products %}
      <th><a href="{% url 'orders:ordersummary' %}" class="btn btn-warning">Go to Cart</a></th>
      {% else %}
      <th>No item in cart</th>
      {%endif%}
    </tr>
  </thead>
  <tbody>



    {% for item in menu_item %}

    {% if item.category == "Topping" %}


    <tr>

      <td>{{item.name}}</td>
      <td>{{item.sizes}}</td>
      <td>{{item.price}}</td>




      {% if item in current_order_products %}
      <td><a href="{% url 'orders:ordersummary' %}" class="btn btn-warning">Go to Cart</a></td>
      {% else %}
     <td><a href="{% url 'orders:add_to_cart' item.id %}" class="btn btn-warning">Add to Cart</a></td>
      {% endif %}


    </tr>
    {% endif %}
    {% endfor %}

  </tbody>


   </table>

 </form>
{% if "Special" not in ordered_item.name %}

    <form action="{% url 'orders:customize_order' food=ordered_item.name %}"  method="post">
               {% csrf_token %}

<p>first topping</p>

                {% for topping  in toppings %}


<fieldset class="topping1">
  <input type="radio" class="{{topping.name}}" name="topping1" value="{{topping.name}}">
  <label for="{{topping.name}}">{{topping.name}}</label><br>
</fieldset>

                 {% endfor %}

{% if "2" in ordered_item.name or "3" in ordered_item.name %}
<p>second topping</p>
  {% for topping  in toppings %}
     <fieldset class="topping2">
       <input type="radio" class="{{topping.name}}" name="topping2" value="{{topping.name}}">
       <label for="{{topping.name}}">{{topping.name}}</label><br>
     </fieldset>

  {% endfor %}

{% endif %}

{% if "3" in ordered_item.name %}
<p>third toppings</p>
     {% for topping  in toppings %}
        <fieldset class="topping3">
          <input type="radio" class="{{topping.name}}" name="topping3" value="{{topping.name}}">
          <label for="{{topping.name}}">{{topping.name}}</label><br>
        </fieldset>

        {% endfor %}
  {% endif %}

    <button class="btn btn-primary" type="submit">Submit</button>

   </form>

  {% endif %}

{% if "Special" in ordered_item.name %}

<form class="" action="{% url 'orders:customize_order' food=ordered_item.name %}" method="post">
       {% csrf_token %}

        {% for topping  in toppings %}
  <div class="form-check">
  <input class="form-check-input" type="checkbox" name="special_toppings" value="{{topping.name}}" id="{{topping.name}}">
  <label class="form-check-label" for="{{topping.name}}">
    {{topping.name}}
  </label>
</div>
{% endfor %}
{% endif %}
<button class="btn btn-primary" type="submit">Submit</button>

</form>

{%endblock%}
