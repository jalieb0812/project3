{% extends "orders/base.html" %}



{% block title %} Menu{% endblock %}


{% load static %}
<script> </script>


{% block body %}



<h1 class="text-center">Menu</h1>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark  justify-content-center fixed-top">


  <ul class="navbar-nav">
    <li class="nav-item">
          <a class="nav-link active" href="#Pizza">Pizza</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Pasta">Pasta</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Salad">Salad</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Subs">Subs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Dinner_Platter">Dinner Platters</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Menu</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href= "login">login</a>
            <a class="dropdown-item" href="logout">logout</a>
            <a class="dropdown-item" href="register">register</a>
            <a class="dropdown-item" href="profile">my_profiler</a>
          </div>
        </li>
        <li class="nav-item">


          <div class="" style="color: white">
             Hello: {{ user.username }}
          </div>
          </li>
      </ul>

    </nav>


<div class="my-menu-flex-container">




      <div class="col-sm">



          <h2 >Menu Items</h2>


          <table  class="table  table-bordered table-hover">
            <thead>


              <tr>
                <th scope="col">Category</th>
                <th scope="col">Type</th>
                <th scope="col">Size</th>
                <th scope="col">Price</th>
                {% if current_order_products %}
                <th><a href="{% url 'orders:ordersummary' %}" class="btn btn-warning">Go to Cart</a></th>
                {% else %}
                <th>No item in cart</th>
                {%endif%}
              </tr>
            </thead>
            <tbody>



              {% for item in menu_item %}

              {% ifchanged item.category %}


              <tr id="{{item.category}}">

                <th scope="row" colspan="5"  >   {{ item.category }}</th>


             </tr> {% endifchanged %}

              <tr>
                <th scope="row">{{item.category}}</th>

                <td>{{item.name}}</td>
                <td>{{item.sizes}}</td>
                <td>{{item.price}}</td>


              {% if item.category == "Pizza" %}

              {% if item in current_order_products %}
              <td><a href="{% url 'orders:ordersummary' %}" class="btn btn-warning">Go to Cart</a></td>
              {% else %}
             <td><a href="{% url 'orders:customize_order' item.name %}" class="btn btn-warning">Add to Cart</a></td>
              {% endif %}


              {%endif%}
              
                {% if item in current_order_products %}
                <td><a href="{% url 'orders:ordersummary' %}" class="btn btn-warning">Go to Cart</a></td>
                {% else %}
               <td><a href="{% url 'orders:add_to_cart' item.id %}" class="btn btn-warning">Add to Cart</a></td>
                {% endif %}


              </tr>
              {% endfor %}

            </tbody>

          </table>

          <br>
        </div>

{% endblock %}

<!--

ifchanged
Check if a value has changed from the last iteration of a loop.

The  block tag is used within a loop. It has two possible uses.

Checks its own rendered contents against its previous state and only displays the content if it has changed. For example, this displays a list of days, only displaying the month if it changes:



<h1>Menu Items2</h1>

  <table id="full_menu" class="table-responsive display table-bordered table-hover table-sm">


    <thead>
      <tr>
        <th scope="col">Category</th>
        <th scope="col">Type</th>
        <th scope="col">Size</th>
        <th scope="col">Price</th>
      </tr>
    </thead>
    <tbody>
    {% for item in menu_item %}
    {% ifchanged menu_item.category %}   <tr class="menu_item.category">
    {{ menu_item.category }} </tr> {% endifchanged %}

      <tr>
        <th scope="row">{{item.category}}</th>

        <td>{{item.name}}</td>
        <td>{{item.sizes}}</td>
        <td>{{item.price}}</td>

      </tr>
  {% for category in categories %}
      <tr>
        <th>
            {{category}}
        </th>
      </tr>
        {% endfor %}

    {% endfor %}




  </tbody>
    </table>
</div>


-->


<!--
<h3>pizza table</h3>
  <table class="table-responsive display table-bordered table-hover table-sm">
    <thead>
      <tr>
        <th scope="col">Type</th>
        <th scope="col">Size</th>
        <th scope="col">Price</th>
      </tr>
    </thead>
    <tbody>
    {% for pizza_type in pizza_categories %}
      <tr>
        <th scope="row">{{pizza_type.name}}</th>

        <td>{{pizza_type.sizes}}</td>
        <td>{{pizza_type.price}}</td>

      </tr>
    {% endfor %}

    </tbody>
  </table>

</div>


<div class="col-sm">


  <!--
<h1>Menu Items</h1>




<table id="full_menu" class="table-responsive  table-bordered table-hover table-sm">
<thead>


<tr>
<th scope="col">Category</th>
<th scope="col">Type</th>
<th scope="col">Size</th>
<th scope="col">Price</th>
</tr>
</thead>
<tbody>

{% for item in menu_item %}

{% if item.category == "Pizza" %}

<tr>

<th scope="row">{{item.category}}</th>

<td>{{item.name}}</td>
<td>{{item.sizes}}</td>
<td>{{item.price}}</td>

</tr>
{% endif %}



{% if item.category == "Pasta" %}
<tr>

<th scope="row">{{item.category}}</th>

<td>{{item.name}}</td>
<td>{{item.sizes}}</td>
<td>{{item.price}}</td>

</tr>
{% endif %}




{% if item.category == "Subs" %}
<tr>

<th scope="row">{{item.category}}</th>

<td>{{item.name}}</td>
<td>{{item.sizes}}</td>
<td>{{item.price}}</td>

</tr>
{% endif %}

{% if item.category == "Salad" %}
<tr>

<th scope="row">{{item.category}}</th>

<td>{{item.name}}</td>
<td>{{item.sizes}}</td>
<td>{{item.price}}</td>

</tr>
{% endif %}

{% if item.category == "Dinner_Platter" %}
<tr>

<th scope="row">{{item.category}}</th>

<td>{{item.name}}</td>
<td>{{item.sizes}}</td>
<td>{{item.price}}</td>

</tr>
{% endif %}


{% endfor %}


</tbody>

</table>

<br>

</div>

-->
